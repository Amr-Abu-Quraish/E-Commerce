<section
  class="relative h-screen bg-[url('/images/4f4ff4a9b7736aad607ede0888a846cf.jpeg')] bg-cover bg-center"
>
  <div class="absolute inset-0 bg-black/50">
    <div class="absolute top-60 left-20 md:top-60 md:left-64">
      <h2 class="text-white capitalize md:text-6xl mb-2 font-bold">
        Upgrade your Style
      </h2>
      <p class="text-white mt-3 py-1 md:py-3 ms-5 md:text-2xl font-medium">
        up to 50% off on all
      </p>
      <p class="text-white py-1 md:py-3 ms-5 md:text-2xl font-medium">
        clothing and accessories
      </p>
      <div class="button-container relative left-[-60px]">
        <button
          class="text-white text-lg font-bold rounded-3xl mt-5 cursor-pointer bg-main py-3 px-10 md:px-24"
        >
          Shop Now
        </button>
        <div class="arrow">
          <img
            src="/images/right-down.png"
            class="w-24 md:w-32 relative left-9 md:left-52"
            alt=""
          />
        </div>

        <div class="content absolute left-36 md:left-[360px] top-36">
          <div class="flex items-center">
            <span class="font-bold text-lg text-white">4.8 |</span>
            <div class="flex">
              <i class="fas fa-star text-yellow-400"></i>
              <i class="fas fa-star text-yellow-400"></i>
              <i class="fas fa-star text-yellow-400"></i>
              <i class="fas fa-star text-yellow-400"></i>
              <i class="fas fa-star fa-star-half-alt text-yellow-400"></i>
            </div>
          </div>
          <h4 class="font-serif text-white font-semibold text-xl text-nowrap">
            <span class="font-mono text-xl"> 150k</span> Total Review
          </h4>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="container p-[70px] mt-16">
  <owl-carousel-o [options]="customOptions">
    @for (category of categoris; track category._id) {
    <ng-template carouselSlide>
      <div class="flex flex-col items-center">
        <img
          [src]="category.image"
          class="circle overflow-hidden border-1 border-gray-300 shadow-lg"
          alt=""
        />
        <h3 class="text-center main-color font-mono font-semibold text-lg">
          {{ category.name }}
        </h3>
      </div>
    </ng-template>
    }
  </owl-carousel-o>
</section>

<section class="flower w-full h-40 md:h-[400px] overflow-hidden">
  <div class="layer w-full h-40 md:h-[400px]">
    <div class="relative top-10 left-10 md:top-32 md:left-52">
      <h2 class="text-white capitalize md:text-3xl mb-2 font-bold">
        Upgrade your Style
      </h2>
      <p class="text-white mt-3 py-1 md:py-3 ms-5 md:text-2xl font-medium">
        up to 50% off on all
      </p>
      <p class="text-white py-1 md:py-3 ms-5 md:text-2xl font-medium">
        clothing and accessories
      </p>
    </div>
  </div>
</section>

<section class="container p-[70px] bg-second">
  <div class="title text-center mb-8">
    <p class="main-color text-xl font-medium">New Collection</p>
    <h2 class="text-2xl text-black font-bold mt-3">Check The New Collection</h2>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 max-w-4xl mx-auto">
    <div class="relative rounded-2xl overflow-hidden">
      <img
        src="/images/unsplash_mB-SwZFP1kQ.png"
        alt="Shoes"
        class="w-full h-full object-cover"
      />
      <div
        class="absolute inset-0 bg-black/40 flex flex-col justify-center items-center text-white text-center p-4"
      >
        <h2 class="text-2xl font-bold">Shoes</h2>
        <p class="text-lg">UP TO 50% OFF</p>
      </div>
    </div>

    <div class="relative rounded-2xl overflow-hidden">
      <img
        src="/images/fashion-accessories-in-shop-window-showcase-of-store-mall-market-KD9DFH.jpg"
        alt="Bags"
        class="w-full h-full object-cover"
      />
      <div
        class="absolute inset-0 bg-black/40 flex flex-col justify-center items-center text-white text-center p-4"
      >
        <h2 class="text-xl font-bold">Bags</h2>
        <p class="text-md">UP TO 50% OFF</p>
      </div>
    </div>

    <div class="relative rounded-2xl overflow-hidden">
      <img
        src="/images/accessories.jpg"
        alt="Accessories"
        class="w-full h-full object-cover"
      />
      <div
        class="absolute inset-0 bg-black/40 flex flex-col justify-center items-center text-white text-center p-4"
      >
        <h2 class="text-xl font-bold">Accessories</h2>
        <p class="text-md">UP TO 50% OFF</p>
      </div>
    </div>
    <div class="relative rounded-2xl overflow-hidden">
      <img
        src="/images/unsplash_DvIMVdLQinU.png"
        alt="clothes"
        class="w-full h-full object-cover"
      />
      <div
        class="absolute inset-0 bg-black/40 flex flex-col justify-center items-center text-white text-center p-4"
      >
        <h2 class="text-xl font-bold">Clothes</h2>
        <p class="text-md">UP TO 50% OFF</p>
      </div>
    </div>
  </div>
</section>

<section class="container p-[70px] relative bg-second">
  <div class="title text-center mb-10">
    <h4 class="text-2xl font-serif font-semibold main-color py-3">
      Flash Sale
    </h4>
    <h2 class="text-xl md:text-4xl font-bold font-serif text-blue-950">
      Grab Them Before They're Gone!
    </h2>
  </div>

  <owl-carousel-o [options]="lastOptions">
    <ng-template carouselSlide>
      <div
        class="bg-white shadow-lg rounded-2xl overflow-hidden w-full max-w-xs p-4 relative border border-gray-200"
      >
        <div class="relative">
          <img
            src="/images/unsplash_BqoyzXdINdg.png"
            alt="Product Image"
            class="w-full h-52 object-cover rounded-lg"
          />
          <span
            class="absolute top-44 left-0 bg-main text-white text-lg font-bold px-4 py-1 rounded"
            >-50%</span
          >
        </div>

        <div class="mt-4">
          <h3 class="text-lg font-bold text-gray-900">Skirts</h3>

          <div
            class="item-center font-bold text-slate-800 mt-1 flex items-center"
          >
            <span class="mr-1">{{ 4 }}</span>

            @for (star of getFullStars(4.8); track star) {
            <i class="fas fa-star text-yellow-400"></i>
            } @if (getHasHalfStar(4.8)) {
            <i class="fas fa-star-half-alt text-yellow-400"></i>
            }
          </div>

          <div class="mt-2 flex items-center">
            <span class="font-bold text-lg text-black">4500</span>
            <span class="text-gray-400 ml-2 line-through">9000</span>
            <span class="text-gray-500 text-sm ml-1">EGP</span>
          </div>

          <button
            class="absolute bottom-4 right-4 main-color text-white text-2xl font-bold"
          >
            <i class="fa-solid fa-cart-plus"></i>
          </button>
        </div>
      </div>
    </ng-template>
    <ng-template carouselSlide>
      <div
        class="bg-white shadow-lg rounded-2xl overflow-hidden w-full max-w-xs p-4 relative border border-gray-200"
      >
        <div class="relative">
          <img
            src="/images/unsplash_5gkYsrH_ebY.png"
            alt="Product Image"
            class="w-full h-52 object-cover rounded-lg"
          />
          <span
            class="absolute top-44 left-0 bg-main text-white text-lg font-bold px-4 py-1 rounded"
            >-50%</span
          >
        </div>

        <div class="mt-4">
          <h3 class="text-lg font-bold text-gray-900">Full OutFit</h3>

          <div
            class="item-center font-bold text-slate-800 mt-1 flex items-center"
          >
            <span class="mr-1">{{ 5 }}</span>

            @for (star of getFullStars(5); track star) {
            <i class="fas fa-star text-yellow-400"></i>
            } @if (getHasHalfStar(5)) {
            <i class="fas fa-star-half-alt text-yellow-400"></i>
            }
          </div>

          <div class="mt-2 flex items-center">
            <span class="font-bold text-lg text-black">10000</span>
            <span class="text-gray-400 ml-2 line-through">20000</span>
            <span class="text-gray-500 text-sm ml-1">EGP</span>
          </div>
          <button
            class="absolute bottom-4 right-4 main-color text-white text-2xl font-bold"
          >
            <i class="fa-solid fa-cart-plus"></i>
          </button>
        </div>
      </div>
    </ng-template>
    <ng-template carouselSlide>
      <div
        class="bg-white shadow-lg rounded-2xl overflow-hidden w-full max-w-xs p-4 relative border border-gray-200"
      >
        <div class="relative">
          <img
            src="/images/unsplash_g-9b4W7N67U.png"
            alt="Product Image"
            class="w-full h-52 object-cover rounded-lg"
          />
          <span
            class="absolute top-44 left-0 bg-main text-white text-lg font-bold px-4 py-1 rounded"
            >-50%</span
          >
        </div>

        <div class="mt-4">
          <h3 class="text-lg font-bold text-gray-900">Bags</h3>

          <div
            class="item-center font-bold text-slate-800 mt-1 flex items-center"
          >
            <span class="mr-1">{{ 3.5 }}</span>

            @for (star of getFullStars(3.5); track star) {
            <i class="fas fa-star text-yellow-400"></i>
            } @if (getHasHalfStar(3.5)) {
            <i class="fas fa-star-half-alt text-yellow-400"></i>
            }
          </div>

          <div class="mt-2 flex items-center">
            <span class="font-bold text-lg text-black">6000</span>
            <span class="text-gray-400 ml-2 line-through">12000</span>
            <span class="text-gray-500 text-sm ml-1">EGP</span>
          </div>
          <button
            class="absolute bottom-4 right-4 main-color text-white text-2xl font-bold"
          >
            <i class="fa-solid fa-cart-plus"></i>
          </button>
        </div>
      </div>
    </ng-template>
    <ng-template carouselSlide>
      <div
        class="bg-white shadow-lg rounded-2xl overflow-hidden w-full max-w-xs p-4 relative border border-gray-200"
      >
        <div class="relative">
          <img
            src="/images/unsplash_Dli2lIXQiJc.png"
            alt="Product Image"
            class="w-full h-52 object-cover rounded-lg"
          />
          <span
            class="absolute top-44 left-0 bg-main text-white text-lg font-bold px-4 py-1 rounded"
            >-50%</span
          >
        </div>

        <div class="mt-4">
          <h3 class="text-lg font-bold text-gray-900">Accessories</h3>

          <div
            class="item-center font-bold text-slate-800 mt-1 flex items-center"
          >
            <span class="mr-1">{{ 5 }}</span>

            @for (star of getFullStars(5); track star) {
            <i class="fas fa-star text-yellow-400"></i>
            } @if (getHasHalfStar(5)) {
            <i class="fas fa-star-half-alt text-yellow-400"></i>
            }
          </div>

          <div class="mt-2 flex items-center">
            <span class="font-bold text-lg text-black">4500</span>
            <span class="text-gray-400 ml-2 line-through">9000</span>
            <span class="text-gray-500 text-sm ml-1">EGP</span>
          </div>

          <button
            class="absolute bottom-4 right-4 main-color text-white text-2xl font-bold"
          >
            <i class="fa-solid fa-cart-plus"></i>
          </button>
        </div>
      </div>
    </ng-template>
    <ng-template carouselSlide>
      <div
        class="bg-white shadow-lg rounded-2xl overflow-hidden w-full max-w-xs p-4 relative border border-gray-200"
      >
        <div class="relative">
          <img
            src="/images/unsplash_ezdrvzA1hZw.png"
            alt="Product Image"
            class="w-full h-52 object-cover rounded-lg"
          />
          <span
            class="absolute top-44 left-0 bg-main text-white text-lg font-bold px-4 py-1 rounded"
            >-50%</span
          >
        </div>

        <div class="mt-4">
          <h3 class="text-lg font-bold text-gray-900">Shoes</h3>

          <div
            class="item-center font-bold text-slate-800 mt-1 flex items-center"
          >
            <span class="mr-1">{{ 4.8 }}</span>

            @for (star of getFullStars(4.8); track star) {
            <i class="fas fa-star text-yellow-400"></i>
            } @if (getHasHalfStar(4.8)) {
            <i class="fas fa-star-half-alt text-yellow-400"></i>
            }
          </div>

          <div class="mt-2 flex items-center">
            <span class="font-bold text-lg text-black">5000</span>
            <span class="text-gray-400 ml-2 line-through">10000</span>
            <span class="text-gray-500 text-sm ml-1">EGP</span>
          </div>

          <button
            class="absolute bottom-4 right-4 main-color text-white text-2xl font-bold"
          >
            <i class="fa-solid fa-cart-plus"></i>
          </button>
        </div>
      </div>
    </ng-template>
    <ng-template carouselSlide>
      <div
        class="bg-white shadow-lg rounded-2xl overflow-hidden w-full max-w-xs p-4 relative border border-gray-200"
      >
        <div class="relative">
          <img
            src="/images/unsplash_12V36G17IbQ.png"
            alt="Product Image"
            class="w-full h-52 object-cover rounded-lg"
          />
          <span
            class="absolute top-44 left-0 bg-main text-white text-lg font-bold px-4 py-1 rounded"
            >-50%</span
          >
        </div>

        <div class="mt-4">
          <h3 class="text-lg font-bold text-gray-900">Watches</h3>

          <div
            class="item-center font-bold text-slate-800 mt-1 flex items-center"
          >
            <span class="mr-1">{{ 3 }}</span>

            @for (star of getFullStars(3); track star) {
            <i class="fas fa-star text-yellow-400"></i>
            } @if (getHasHalfStar(3)) {
            <i class="fas fa-star-half-alt text-yellow-400"></i>
            }
          </div>

          <div class="mt-2 flex items-center">
            <span class="font-bold text-lg text-black">7000</span>
            <span class="text-gray-400 ml-2 line-through">14000</span>
            <span class="text-gray-500 text-sm ml-1">EGP</span>
          </div>
          <button
            class="absolute bottom-4 right-4 main-color text-white text-2xl font-bold"
          >
            <i class="fa-solid fa-cart-plus"></i>
          </button>
        </div>
      </div>
    </ng-template>

    <ng-template carouselSlide>
      <div
        class="bg-white shadow-lg rounded-2xl overflow-hidden w-full max-w-xs p-4 relative border border-gray-200"
      >
        <div class="relative">
          <img
            src="/images/unsplash_5A9cFNtWav0.png"
            alt="Product Image"
            class="w-full h-52 object-cover rounded-lg"
          />
          <span
            class="absolute top-44 left-0 bg-main text-white text-lg font-bold px-4 py-1 rounded"
            >-50%</span
          >
        </div>

        <div class="mt-4">
          <h3 class="text-lg font-bold text-gray-900">Makeup</h3>

          <div
            class="item-center font-bold text-slate-800 mt-1 flex items-center"
          >
            <span class="mr-1">{{ 4.8 }}</span>

            @for (star of getFullStars(4.8); track star) {
            <i class="fas fa-star text-yellow-400"></i>
            } @if (getHasHalfStar(4.8)) {
            <i class="fas fa-star-half-alt text-yellow-400"></i>
            }
          </div>

          <div class="mt-2 flex items-center">
            <span class="font-bold text-lg text-black">5000</span>
            <span class="text-gray-400 ml-2 line-through">10000</span>
            <span class="text-gray-500 text-sm ml-1">EGP</span>
          </div>

          <button
            class="absolute bottom-4 right-4 main-color text-white text-2xl font-bold"
          >
            <i class="fa-solid fa-cart-plus"></i>
          </button>
        </div>
      </div>
    </ng-template>

    <ng-template carouselSlide>
      <div
        class="bg-white shadow-lg rounded-2xl overflow-hidden w-full max-w-xs p-4 relative border border-gray-200"
      >
        <div class="relative">
          <img
            src="/images/black1-2.jpg"
            alt="Product Image"
            class="w-full h-52 object-cover rounded-lg"
          />
          <span
            class="absolute top-44 left-0 bg-main text-white text-lg font-bold px-4 py-1 rounded"
            >-50%</span
          >
        </div>

        <div class="mt-4">
          <h3 class="text-lg font-bold text-gray-900">Suits</h3>

          <div
            class="item-center font-bold text-slate-800 mt-1 flex items-center"
          >
            <span class="mr-1">{{ 4 }}</span>

            @for (star of getFullStars(4); track star) {
            <i class="fas fa-star text-yellow-400"></i>
            } @if (getHasHalfStar(4)) {
            <i class="fas fa-star-half-alt text-yellow-400"></i>
            }
          </div>

          <div class="mt-2 flex items-center">
            <span class="font-bold text-lg text-black">5000</span>
            <span class="text-gray-400 ml-2 line-through">10000</span>
            <span class="text-gray-500 text-sm ml-1">EGP</span>
          </div>
          <button
            class="absolute bottom-4 right-4 main-color text-white text-2xl font-bold"
          >
            <i class="fa-solid fa-cart-plus"></i>
          </button>
        </div>
      </div>
    </ng-template>
  </owl-carousel-o>
</section>

<section class="md:container px-5 md:p-[70px] relative bg-second">
  <div class="title text-center mb-8">
    <h4 class="text-2xl font-serif font-semibold main-color py-3">Products</h4>
    <h2 class="text-4xl font-bold font-serif text-blue-950">
      Best Selling Products
    </h2>
  </div>

  <div
    class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-5 mt-3"
  >
    @for (product of products.slice(28,36).reverse(); track product._id) {
    <div
      class="bg-white shadow-lg rounded-3xl overflow-hidden w-80 p-5 relative border border-gray-200"
    >
      <div class="relative">
        <img
          [src]="product.imageCover"
          alt="Product Image"
          class="w-full h-[320px] object-cover rounded-lg"
        />
        <span
          class="absolute top-72 left-0 bg-main text-white text-lg font-bold px-4 py-1 rounded"
          >-50%</span
        >
        <span
          (click)="toggleWishlist(product._id)"
          class="heart absolute cursor-pointer top-0 left-60 z-20 text-3xl"
        >
          <i
            class="fa-heart"
            [ngClass]="
              isInWishlist(product._id)
                ? 'fa-solid main-color'
                : 'fa-regular main-color'
            "
          ></i>
        </span>
        <p-toast position="top-right"></p-toast>
      </div>

      <div class="card-body px-2 py-4">
        <h3 class="main-color font-mono text-lg">
          {{ product.category.name }}
        </h3>
        <h4 class="font-bold dark:text-black">
          {{ product.title.split(" ", 2).join(" ") }}
        </h4>

        <span class="block mt-1 main-color font-mono text-lg"
          ><span class="font-bold text-black dark:text-black"
            >Available Quantity:</span
          >
          {{ product.quantity }}</span
        >

        <div class="flex items-center justify-between">
          <div>
            <span
              ><span class="main-color font-mono font-semibold text-lg">{{
                product.price
              }}</span>
              <span class="dark:text-black"> EGP</span></span
            >

            <div
              class="item-center font-bold text-slate-800 mt-1 flex items-center dark:text-black"
            >
              <span class="mr-1">{{ product.ratingsAverage }}</span>

              @for (star of getFullStars(product.ratingsAverage); track star) {
              <i class="fas fa-star text-yellow-400"></i>
              } @if (getHasHalfStar(product.ratingsAverage)) {
              <i class="fas fa-star-half-alt text-yellow-400"></i>
              }
            </div>
          </div>
        </div>

        <div
          class="flex my-3 cursor-pointer"
          [routerLink]="['/details', product._id]"
        >
          <h3 class="font-bold text-black font-mono text-lg dark:text-black">
            See more Details
          </h3>
          <span class="main-color font-bold font-mono text-2xl ms-1"
            ><i class="fa-solid fa-arrow-right-long"></i
          ></span>
        </div>
        <button
          (click)="addToCart(product._id)"
          [disabled]="isAddLoading[product._id]"
          class="relative left-60 mt-2 main-color rounded-md w-9 h-9 text-3xl font-bold"
        >
          @if (!isAddLoading[product._id]) {

          <i class="fa-solid fa-cart-plus"></i>
          } @else {
          <i class="fas fa-spinner fa-spin"></i>
          }
        </button>
        <p-toast position="top-right"></p-toast>
      </div>
    </div>
    }
  </div>
</section>

<section
  class="dicover relative w-full h-40 md:h-[500px] mb-16 overflow-hidden"
>
  <div class="layer w-full h-40 md:h-[500px]">
    <div class="relative px-5 top-10 left-2 md:left-10 md:top-32">
      <h2 class="text-white capitalize text-lg md:text-3xl mb-2 font-bold">
        Discover Fashion That Speaks To You.
      </h2>
      <p class="text-white mt-3 py-1 md:p-3 md:text-xl font-medium">
        Explore a range of high-quality, affordable furniture designed to
        transform any room. Discover the perfect blend of style, comfort, and
        functionality for your space.
      </p>
    </div>
  </div>
</section>
